<div ng-controller="MenuInAppController as mymenu">

 <ul ng-if="lastRoute.state.name != 'welcome.test'"
    id="nav-mobile" class="right"
    style="color: grey; padding-right: 20px;">

<!-- IF LOGGED AND NOT LOGGED -->
    <li
        ng-show="lastRoute.state.name != 'public.db'
            && lastRoute.state.name != 'public.fastsearch'"
        style="color: grey;">
        <div layout="row">
            <i class="material-icons prefix">search</i>
            <input placeholder="Search" ng-focus="activateSearch()">
        </div>
    </li>

<!-- IF NOT LOGGED -->

    <li ng-if="mymenu.logged">
        <a ui-sref="logged.submit({id: 'draft', step: 1})" class="btn indigo">
            add
        </a>
    </li>

    <!-- Angular dynamic material menu -->
    <li ng-if="mymenu.buttons" ng-repeat="button in mymenu.buttons">
        <a ui-sref="{{button.link}}" class="btn" ng-class="button.color">
            {{ button.name.capitalizeFirstLetter() }}
        </a>
    </li>

<!-- IF LOGGED
    <li style="color: grey;" ng-if="mymenu.logged">
        <div layout="row">
            <i class="material-icons prefix">face</i>
            &nbsp;
        </div>
    </li>
-->

<!-- BASIC MENU FROM ROUTING - if nothing else is available -->

    <!-- Angular menu from route -->
	<li ng-if="menu && !mymenu.buttons" ng-repeat='item in menu'>
		<a ui-sref="logged.{{item.toLowerCase()}}">{{item}}</a>
	</li>

 </ul>
</div>
