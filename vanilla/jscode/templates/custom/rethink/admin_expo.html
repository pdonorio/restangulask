
<div ng-controller="ExpoController as expo">

    <md-toolbar layout="column"
        class="md-tall md-default-theme light-blue lighten-1 md-whiteframe-6dp">
      <div class="md-toolbar-tools">
        <div layout="row" flex="flex" class="fill-height"
        layout-align="center center">
          <div class="md-toolbar-item md-breadcrumb" aria-hidden="false">
            <span tabindex="0">
                <br>
                Upload <b>EXPO</b> images
            </span>
          </div>
        </div>
      </div>
    </md-toolbar>

  <div layout="column"

    flow-init="expo.config"
    flow-files-submitted="$flow.upload()"
    flow-file-success="expo.uploaded($file)"
    flow-file-added="expo.adding($file, $event, $flow)"
    flow-file-error="expo.fileError($file, $message)"
    flow-progress="expo.progressing">

    <md-card > <md-card-content layout="column" layout-align="center center">
     <span class="btn" flow-btn>Click to upload</span>
     <table>
      <tr ng-repeat="file in $flow.files">
        <td> Request {{$index+1}}</td>
        <td> {{file.name}}</td>
        <td>
            <span ng-if="file.status == 'fail'">
                <i class="material-icons">clear</i>
            </span>
            <span ng-if="file.status == 'uploaded'">
                <i class="material-icons">done</i>
            </span>
            <span ng-if="file.status == 'progress'">
                <md-progress-circular md-mode='indeterminate'
                    class="md-hue-2" md-diameter="40px"
                    ></md-progress-circular>
            </span>
        </td>
        <td>
            <div ng-if='file.errorMessage'>
                <h5>Error(s):</h5>
                <span ng-bind-html="file.errorMessage"></span>
            </div>
        </td>
        <td> <img flow-img="file" width="100"> </td>
      </tr>
     </table>
    </md-card-content> </md-card>

    <md-card ng-if="expo.files">
        <md-card-content layout="column" layout-align="center center">
        <h4>Uploaded files</h4>
    </md-card-content> </md-card>

  </div>


</div>