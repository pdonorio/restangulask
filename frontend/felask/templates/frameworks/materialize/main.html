{% extends 'frameworks/materialize/base.html' %}

{%- block title %} {{ jstitle }} {% endblock %}

{%- block topbar %}
<!-- TOPBAR -->
<div ng-controller="ToolbarController as tool"
    ng-hide="avoidTheToolbar"
    ng-class="tool.shade"
    ng-cloak>
	<nav class="noshadow">

      <div class="pink" style="
        position: absolute; top: 0px;
        width:100%; height: 8px;
        z-index: 2;
      ">&nbsp;</div>
      <div ng-class="toolbarColor" class="nav-wrapper white"
        style="z-index: 1;">

          <a ui-sref='welcome'
            style='font-family: Leela;' class="cyan-text text-darken-2 brand-logo brandpad hide-on-med-and-up">
            <!--
            {{ project[0].upper() + project[1:].lower() }}
            -->
            <span class='pink-text'>C</span>
            <span class='pink-text'>S</span>
            <span class='pink-text'>B</span
          </a>

          <a ui-sref='welcome'
            style='font-family: Leela;' class="cyan-text text-darken-2 brand-logo brandpad hide-on-small-only">
            <!--
            {{ project[0].upper() + project[1:].lower() }}
            -->
            <span class='pink-text'>C</span>ultures du
            <span class='pink-text'>S</span>pectacle
            <span class='pink-text'>B</span>aroque
          </a>
<!--
		{%- if g.user.is_authenticated -%}
          <a ui-sref='welcome' class="brand-logo brandpad">
			{{ project[0].upper() + project[1:].lower() }}
          </a>
		{%- else -%}
          <a class="brand-logo brandpad">
			Login form
          </a>
		{%- endif -%}
-->
        <div ui-view='menu'></div>
<!-- HANDLE USER FROM PYTHON ?
		{% if g.user.is_authenticated %}
		<div ui-view='menu'></div>
		{% endif %}
-->
	  </div>
	</nav>
</div>
<!-- TOPBAR END -->
{% endblock %}

{%- block content %}
<main ng-controller='AppRootController as root' ng-cloak>
    <div ng-if="root.load" ng-include="root.templateDir + 'loader.html'">
    <!-- WHILE WAITING -->
    </div>
    <div layout-gt-sm="row" layout="column"
        layout-wrap layout-fill layout-padding>
        <div ng-hide="root.load" flex='85' ui-view='main'></div>
        <div flex='15'
            ng-if="!disable_sidemenu"
            layout="column"
            ng-include="root.blueprintTemplateDir + 'side_menu.html'"></div>
    </div>
<!--
    <div ui-view='sidebar'></div>
-->
</main>
{% endblock %}

{%- if footer %}{% block footer %}
{{footer|safe}}
{% endblock %}{% endif -%}